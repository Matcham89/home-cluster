---
# Backend for YouTube MCP Server (local service)
apiVersion: gateway.kgateway.dev/v1alpha1
kind: Backend
metadata:
  name: yt-mcp-backend
spec:
  type: MCP
  mcp:
    targets:
      - name: yt-kmcp-kagent
        selector:
          service:
            matchLabels:
              kagent.dev/mcp-service: "true"
---
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: a2a
spec:
  parentRefs:
    - name: agentgateway
      namespace: default
  rules:
    - backendRefs:
        - name: a2a-agent
          port: 9090