---
# Resource quota patch for monitoring namespace
# Optimized resource limits applied - reduced from 35Gi to 16.5Gi
#
# Actual usage after optimization:
#   kube-prometheus-stack: ~6Gi (prometheus 2Gi + node-exporters 1.5Gi + sidecars 1.5Gi + other 1Gi)
#   Loki: ~7Gi (backend 2Gi + read 1Gi + write 1Gi + caches 2Gi + other 1Gi)
#   SeaweedFS: ~768Mi (3 components × 256Mi)
#   Promtail: ~1Gi (6 nodes × varied limits)
#   Tempo: 512Mi
#   OpenTelemetry: ~512Mi (operator 256Mi + collector 256Mi)
# Total current usage: ~16.5Gi with 18Gi quota providing 1.5Gi headroom
apiVersion: v1
kind: ResourceQuota
metadata:
  name: namespace-quota
spec:
  hard:
    requests.cpu: "10"
    requests.memory: 12Gi
